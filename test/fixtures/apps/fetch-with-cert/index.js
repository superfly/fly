// this is a throwaway client cert pem
fly.http.respondWith(async function (req) {
  const url = new URL(req.url)

  const tls = {}
  if (url.pathname === "/") {
    tls['cert'] = `-----BEGIN EC PRIVATE KEY-----
MHcCAQEEIPGK/18G5VoxVjUoj6TPxtcblZOZjOu4WXdgtbyqj7UToAoGCCqGSM49
AwEHoUQDQgAE7e5hSEXeU6fDWaw9mVq70elIHIJnT8VdxvScW3WXjoTX356CgIhL
MjyJJc/09yjl8JzwCZvP9qmRU6DPBeROeQ==
-----END EC PRIVATE KEY-----

-----BEGIN CERTIFICATE-----
MIICIDCCAcegAwIBAgIISt0bPwa8PAMwCgYIKoZIzj0EAwIwazELMAkGA1UEBhMC
VVMxETAPBgNVBAgMCElsbGlub2lzMRAwDgYDVQQHDAdDaGljYWdvMRUwEwYDVQQK
DAxGbHkuaW8sIEluYy4xIDAeBgNVBAMMF0ZseS5pbyBCYWNrZW5kOiBSb290IENB
MB4XDTE4MDgxMzE5Mzc1OVoXDTIzMDgxMzE5Mzc1OVowejELMAkGA1UEBhMCVVMx
ETAPBgNVBAgMCElsbGlub2lzMRAwDgYDVQQHDAdDaGljYWdvMRUwEwYDVQQKDAxG
bHkuaW8sIEluYy4xLzAtBgNVBAMMJkZseS5pbyBCYWNrZW5kOjQ2NTUgQ2xpZW50
IENlcnRpZmljYXRlMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE7e5hSEXeU6fD
Waw9mVq70elIHIJnT8VdxvScW3WXjoTX356CgIhLMjyJJc/09yjl8JzwCZvP9qmR
U6DPBeROeaNGMEQwDgYDVR0PAQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUFBwMC
MB0GA1UdDgQWBBT8/rfa+Gcz+VdYSpJ64Eg8RnaCJzAKBggqhkjOPQQDAgNHADBE
AiA4GJfHCQbdKt4amgrAwxNy5/u0tR5Dng6Bhy3bl73lEwIgYmc6aEL/0v4ofJ5K
/PGaGkn6bemrDuGo40Ft4m3QPdE=
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIICsjCCAlegAwIBAgIJALLvFnPBxtBKMAoGCCqGSM49BAMCMGsxCzAJBgNVBAYT
AlVTMREwDwYDVQQIDAhJbGxpbm9pczEQMA4GA1UEBwwHQ2hpY2FnbzEVMBMGA1UE
CgwMRmx5LmlvLCBJbmMuMSAwHgYDVQQDDBdGbHkuaW8gQmFja2VuZDogUm9vdCBD
QTAeFw0xODA4MTMxNjUwMjJaFw0zODA4MTMxNjUwMjJaMGsxCzAJBgNVBAYTAlVT
MREwDwYDVQQIDAhJbGxpbm9pczEQMA4GA1UEBwwHQ2hpY2FnbzEVMBMGA1UECgwM
Rmx5LmlvLCBJbmMuMSAwHgYDVQQDDBdGbHkuaW8gQmFja2VuZDogUm9vdCBDQTBZ
MBMGByqGSM49AgEGCCqGSM49AwEHA0IABJRSKkjt8DvV1Y/9p27ccM9At3gIzpWV
sBU2DzgEc0kBLW3AZFr4l3K7f4MWFosZRbyBSUtiG/IKlBpa4mQSC6ijgeMwgeAw
DwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFFviSbEr
1Umi8d4fDYB0DHNzhEPOMIGdBgNVHSMEgZUwgZKAFFviSbEr1Umi8d4fDYB0DHNz
hEPOoW+kbTBrMQswCQYDVQQGEwJVUzERMA8GA1UECAwISWxsaW5vaXMxEDAOBgNV
BAcMB0NoaWNhZ28xFTATBgNVBAoMDEZseS5pbywgSW5jLjEgMB4GA1UEAwwXRmx5
LmlvIEJhY2tlbmQ6IFJvb3QgQ0GCCQCy7xZzwcbQSjAKBggqhkjOPQQDAgNJADBG
AiEAkRndPV5MQTYxNqc0f2QVzC1SpvOIIirqxj7b3rc6ZjwCIQDt1GyzAw1wQiV3
UoGD0OqYLFDlD0F5C3rH7d8D+5ZvGA==
-----END CERTIFICATE-----`
  }

  try {
    return await fetch("https://2k0q8j69ud78pwj8.shw.io/", { tls: tls })
  } catch (err) {
    return new Response(err.message, { status: 500 })
  }
})